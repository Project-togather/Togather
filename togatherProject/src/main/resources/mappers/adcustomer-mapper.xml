<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="adcustomerMapper">
	
	<resultMap id="AdNoticeResult" type="Notice">
		<result column="notice_no" property="noticeNo"></result>
		<result column="mem_Id" property="memId"></result>
		<result column="notice_title" property="noticeTitle"></result>
		<result column="notice_content" property="noticeContent"></result>
		<result column="notcie_views" property="noticeViews"></result>
		<result column="notice_date" property="noticeDate"></result>
		<result column="notice_status" property="noticeStatus"></result>
	</resultMap>
	
	
	<select id="selectNoticeList" resultMap="AdNoticeResult" parameterType="Notice">
		select 
		    notice_no,
		   	mem_id,
		    notice_title,
		    notice_content,
		    notice_views,
		    notice_date,
		    notice_Status
		from notice
			order by notice_no desc
	</select>
	
	<select id="selectNoticeCount" resultType="_int">
		select
				count(*)
			from notice
		   where notice_Status = 'Y'
	</select>
	
	<insert id="insertNoticeBoard">
		insert 
			into notice
			(
				notice_no
			   ,mem_id
			   ,notice_title
			   ,notice_content
			   ,notice_views
			   ,notice_date
			   ,notice_status
			)
			values
			(
				seq_nono.nextval
			   ,#{memId}
			   ,#{noticeTitle}
			   ,#{noticeContent}
			   ,default
			   ,sysdate
			   ,default
			)
	</insert>
	
	<select id="noticeDetailview" resultMap="AdNoticeResult">
		select
			notice_no,
		   	mem_id,
		    notice_title,
		    notice_content,
		    notice_views,
		    notice_date,
		    notice_Status
		from notice
			where notice_no = #{noticeNo}
	</select>
	
	<update id="updateNotice">
		update
			notice
		 set notice_title = #{noticeTitle}
		 	,notice_Content = #{noticeContent}
		 where notice_no = #{noticeNo}
	</update>
</mapper>